import{b as xa,r as m,e as P,y as Ta,w as oa,m as n,q as a,M as Va,F as v,g as ua,j as h,G as Na,O as $a,D as y,E as o,t as Z,u as k,L as da,k as M,o as i}from"./vendor.iNPlSTaR.js";import{u as La}from"./useGlobalFilters.BzbMdXpC.js";import{h as D,E as Da,a as x}from"./EmptyState.vue_vue_type_style_index_0_scoped_9c857fd5_lang.BGePB7Pa.js";import{I as aa,_ as Ra}from"./index.CzyV3kJY.js";import{E as Ba}from"./EmptyState.DE1pgZeF.js";import"./pdf-vendor.jXUlHPMi.js";import"./icons-vendor.pg7b-e9c.js";import"./vue-router.BQVFLPdy.js";const Ia={class:"campanhas-wrapper"},Fa={class:"campanhas-view"},za={key:0,class:"campanhas-content"},Ua={key:2,class:"campanhas-content"},ja={class:"card card--campanhas"},Oa={class:"card__header camp-header"},Ga={class:"camp-header__controls"},Ja=["value"],Qa={key:0,class:"camp-hero"},Ha={class:"camp-hero__info"},Ka={id:"camp-cycle"},Wa={class:"camp-period camp-period--validity"},Xa={id:"camp-validity",class:"camp-validity"},Ya={id:"camp-note",class:"muted"},Za={class:"camp-hero__stats",id:"camp-headline"},ae={key:0},ee={key:1,class:"camp-kpi-grid",id:"camp-kpis"},se={key:0},te={key:2},le={key:0},ie={key:2,class:"card card--camp-sims"},ne={class:"sim-grid"},oe={key:0,id:"sim-equipe",class:"sim-card"},ue={class:"sim-card__head"},de={class:"sim-card__title"},re={type:"button",class:"sim-help","aria-label":"Como funciona o simulador de equipe",title:"Ajuste os percentuais de cada indicador entre 0% e 150%. A equipe se torna elegível com todos os indicadores a partir de 90% e somando pelo menos 100 pontos."},ce={class:"sim-presets",id:"team-presets"},me=["onClick"],ve={class:"sim-table"},he={class:"sim-indicator"},pe={key:0,class:"muted",style:{"font-size":"12px"}},ge={class:"sim-weight"},be={class:"sim-slider"},_e=["value","onInput"],fe={class:"sim-slider-value"},ye={class:"sim-points"},ke={key:1,class:"status-pill status-pill--ok"},Pe={class:"sim-summary"},qe={class:"sim-total"},Ce={class:"sim-progress"},we={class:"sim-progress__track"},Me={class:"sim-outcome"},Ae={key:1,id:"sim-individual",class:"sim-card"},Se={class:"sim-card__head"},Ee={class:"sim-card__title"},xe={type:"button",class:"sim-help","aria-label":"Como funciona o simulador individual",title:"Escolha um perfil, use os presets ou ajuste manualmente. Para elegibilidade é necessário atingir 90% em cada indicador e acumular 100 pontos ou mais."},Te={class:"segmented seg-mini",role:"tablist",id:"individual-profiles"},Ve=["onClick"],Ne={class:"sim-presets",id:"individual-presets"},$e=["onClick"],Le={key:0,id:"individual-description",class:"sim-hint"},De={class:"sim-table"},Re={class:"sim-indicator"},Be={class:"sim-weight"},Ie={class:"sim-slider"},Fe=["value","onInput"],ze={class:"sim-slider-value"},Ue={class:"sim-points"},je={key:1,class:"status-pill status-pill--ok"},Oe={class:"sim-summary"},Ge={class:"sim-total"},Je={class:"sim-progress"},Qe={class:"sim-progress__track"},He={class:"sim-outcome"},Ke={key:3,class:"card card--camp-ranking"},We={id:"camp-ranking",class:"camp-ranking-wrapper"},Xe={class:"camp-ranking-table"},Ye={class:"pos-col"},Ze={class:"regional-col"},as={class:"sim-points"},es=xa({__name:"Campanhas",setup(ss){const{filterState:ra}=La(),A=m(!1),T=m(null),S=m([]),q=m(null),u=m(null),ea=m([]),J=m([]),R=m([]),V=m(null),B=m(null),Q=m({}),H=m({}),I=m({}),F=m({}),N=m(null),c=m(null),r=m(null),ca=[{id:"sprint-1",label:"Campanha Q1 2024",cycle:"Q1 2024",note:"Campanha de incentivo para o primeiro trimestre.",period:{start:"2024-01-01",end:"2024-03-31"},headStats:[{label:"Participantes",value:"1.234",sub:"equipes ativas"},{label:"Meta Total",value:"R$ 2,5M",sub:"em vendas"},{label:"Realizado",value:"R$ 1,8M",sub:"72% da meta"}],summary:[{id:"equipes",label:"Equipes elegíveis",value:45,total:60},{id:"media",label:"Média de pontos",value:125.5,unit:"pts"},{id:"recorde",label:"Recorde",value:198.3,unit:"pts",complement:"Equipe Alpha"}],team:{minThreshold:90,superThreshold:120,cap:150,eligibilityMinimum:100,defaultPreset:"meta",indicators:[{id:"linhas",label:"Linhas governamentais",short:"Linhas",weight:40,hint:"Operações direcionadas, BB Giro e BNDES.",default:100},{id:"cash",label:"Cash (TPV)",short:"Cash",weight:30,hint:"Centralização de caixa e TPV eletrônico.",default:100},{id:"conquista",label:"Conquista cliente PJ",short:"Conquista",weight:30,hint:"Abertura de contas e ativação digital.",default:100}],presets:[{id:"minimo",label:"Mínimo obrigatório (90%)",values:{linhas:90,cash:90,conquista:90}},{id:"meta",label:"Meta do sprint (100%)",values:{linhas:100,cash:100,conquista:100}},{id:"stretch",label:"Meta esticada (120%)",values:{linhas:120,cash:120,conquista:120}}]},individual:{profiles:[{id:"negocios",label:"Negócios",description:"Carteiras MPE com foco em relacionamento consultivo.",minThreshold:90,superThreshold:120,cap:150,eligibilityMinimum:100,defaultPreset:"meta",indicators:[{id:"linhas",label:"Linhas governamentais",short:"Linhas",weight:40,default:100},{id:"cash",label:"Cash (TPV)",short:"Cash",weight:30,default:100},{id:"conquista",label:"Conquista cliente PJ",short:"Conquista",weight:30,default:100}],presets:[{id:"minimo",label:"90% em todos",values:{linhas:90,cash:90,conquista:90}},{id:"meta",label:"Meta (100%)",values:{linhas:100,cash:100,conquista:100}},{id:"destaque",label:"Stretch (120%)",values:{linhas:120,cash:120,conquista:120}}]},{id:"empresas",label:"Empresas",description:"Grandes empresas e governo com foco em volume.",minThreshold:90,superThreshold:120,cap:150,eligibilityMinimum:100,defaultPreset:"meta",indicators:[{id:"linhas",label:"Linhas governamentais",short:"Linhas",weight:45,default:100},{id:"cash",label:"Cash (TPV)",short:"Cash",weight:35,default:100},{id:"conquista",label:"Conquista cliente PJ",short:"Conquista",weight:20,default:100}],presets:[{id:"minimo",label:"90% em todos",values:{linhas:90,cash:90,conquista:90}},{id:"meta",label:"Meta (100%)",values:{linhas:100,cash:100,conquista:100}},{id:"stretch",label:"Stretch (120%)",values:{linhas:120,cash:120,conquista:120}}]}]}},{id:"sprint-2",label:"Campanha Q2 2024",cycle:"Q2 2024",note:"Campanha de incentivo para o segundo trimestre.",period:{start:"2024-04-01",end:"2024-06-30"},headStats:[{label:"Participantes",value:"1.456",sub:"equipes ativas"},{label:"Meta Total",value:"R$ 3,0M",sub:"em vendas"},{label:"Realizado",value:"R$ 2,1M",sub:"70% da meta"}],summary:[{id:"equipes",label:"Equipes elegíveis",value:52,total:65},{id:"media",label:"Média de pontos",value:132.8,unit:"pts"},{id:"recorde",label:"Recorde",value:205.7,unit:"pts",complement:"Equipe Beta"}],team:{minThreshold:90,superThreshold:120,cap:150,eligibilityMinimum:100,defaultPreset:"meta",indicators:[{id:"linhas",label:"Linhas governamentais",short:"Linhas",weight:40,hint:"Operações direcionadas, BB Giro e BNDES.",default:100},{id:"cash",label:"Cash (TPV)",short:"Cash",weight:30,hint:"Centralização de caixa e TPV eletrônico.",default:100},{id:"conquista",label:"Conquista cliente PJ",short:"Conquista",weight:30,hint:"Abertura de contas e ativação digital.",default:100}],presets:[{id:"minimo",label:"Mínimo obrigatório (90%)",values:{linhas:90,cash:90,conquista:90}},{id:"meta",label:"Meta do sprint (100%)",values:{linhas:100,cash:100,conquista:100}},{id:"stretch",label:"Meta esticada (120%)",values:{linhas:120,cash:120,conquista:120}}]},individual:{profiles:[{id:"negocios",label:"Negócios",description:"Carteiras MPE com foco em relacionamento consultivo.",minThreshold:90,superThreshold:120,cap:150,eligibilityMinimum:100,defaultPreset:"meta",indicators:[{id:"linhas",label:"Linhas governamentais",short:"Linhas",weight:40,default:100},{id:"cash",label:"Cash (TPV)",short:"Cash",weight:30,default:100},{id:"conquista",label:"Conquista cliente PJ",short:"Conquista",weight:30,default:100}],presets:[{id:"minimo",label:"90% em todos",values:{linhas:90,cash:90,conquista:90}},{id:"meta",label:"Meta (100%)",values:{linhas:100,cash:100,conquista:100}},{id:"destaque",label:"Stretch (120%)",values:{linhas:120,cash:120,conquista:120}}]},{id:"empresas",label:"Empresas",description:"Grandes empresas e governo com foco em volume.",minThreshold:90,superThreshold:120,cap:150,eligibilityMinimum:100,defaultPreset:"meta",indicators:[{id:"linhas",label:"Linhas governamentais",short:"Linhas",weight:45,default:100},{id:"cash",label:"Cash (TPV)",short:"Cash",weight:35,default:100},{id:"conquista",label:"Conquista cliente PJ",short:"Conquista",weight:20,default:100}],presets:[{id:"minimo",label:"90% em todos",values:{linhas:90,cash:90,conquista:90}},{id:"meta",label:"Meta (100%)",values:{linhas:100,cash:100,conquista:100}},{id:"stretch",label:"Stretch (120%)",values:{linhas:120,cash:120,conquista:120}}]}]}}],ma=[{rank:1,unidade:"Agência Centro",label:"Agência Centro",linhas:125,cash:118,conquista:132,totalPoints:128.5,finalStatus:"Elegível"},{rank:2,unidade:"Agência Norte",label:"Agência Norte",linhas:120,cash:115,conquista:128,totalPoints:120.5,finalStatus:"Elegível"},{rank:3,unidade:"Agência Sul",label:"Agência Sul",linhas:115,cash:110,conquista:125,totalPoints:115.5,finalStatus:"Elegível"},{rank:4,unidade:"Agência Leste",label:"Agência Leste",linhas:110,cash:105,conquista:120,totalPoints:111.5,finalStatus:"Elegível"},{rank:5,unidade:"Agência Oeste",label:"Agência Oeste",linhas:105,cash:100,conquista:115,totalPoints:106.5,finalStatus:"Elegível"},{rank:6,unidade:"Agência Alpha",label:"Agência Alpha",linhas:100,cash:95,conquista:110,totalPoints:101.5,finalStatus:"Elegível"},{rank:7,unidade:"Agência Beta",label:"Agência Beta",linhas:95,cash:90,conquista:105,totalPoints:96.5,finalStatus:"Elegível"},{rank:8,unidade:"Agência Gamma",label:"Agência Gamma",linhas:90,cash:88,conquista:100,totalPoints:92.5,finalStatus:"Elegível"},{rank:9,unidade:"Agência Delta",label:"Agência Delta",linhas:88,cash:85,conquista:98,totalPoints:90.5,finalStatus:"Elegível"},{rank:10,unidade:"Agência Epsilon",label:"Agência Epsilon",linhas:85,cash:82,conquista:95,totalPoints:87.5,finalStatus:"Ajustar"}],va=()=>{A.value=!0,T.value=null,setTimeout(()=>{S.value=ca,S.value.length>0&&!q.value&&(q.value=S.value[0].id),A.value=!1},300)},ha=()=>{q.value&&(A.value=!0,T.value=null,setTimeout(()=>{const t=S.value.find(s=>s.id===q.value);if(!t){T.value="Sprint não encontrada",A.value=!1;return}if(u.value=t,ea.value=t.headStats||[],J.value=t.summary||[],R.value=ma,V.value=t.team||null,B.value=t.individual||null,t.team){const s=z(t);c.value=C(t.team,s)}if(t.individual?.profiles?.length){const s=t.individual.profiles[0];N.value=s.id;const e=$(t,s);r.value=C(s,e)}A.value=!1},200))},b=P(()=>!u.value?.individual?.profiles||!N.value?null:u.value.individual.profiles.find(t=>t.id===N.value)||null),sa=P(()=>u.value?.team?z(u.value):{}),ta=P(()=>!u.value||!b.value?{}:$(u.value,b.value)),pa=P(()=>u.value&&I.value[u.value.id]||"custom"),ga=P(()=>{if(!u.value||!b.value)return"custom";const t=`${u.value.id}:${b.value.id}`;return F.value[t]||"custom"}),ba=t=>{if(!t)return"Vigência não informada";const s=t.start?new Date(t.start).toLocaleDateString("pt-BR"):null,e=t.end?new Date(t.end).toLocaleDateString("pt-BR"):null;return s&&e?`Vigência da campanha: de ${s} até ${e}`:s?`Vigência da campanha a partir de ${s}`:e?`Vigência da campanha até ${e}`:"Vigência não informada"},_a=P(()=>ba(u.value?.period)),fa=P(()=>u.value?.label||u.value?.cycle||""),ya=P(()=>{const t=u.value?.note||"",s=R.value.length,l=s?` Exibindo ${D(s)} unidades filtradas.`:" Nenhuma unidade encontrada para o filtro atual.";return`${t}${l}`.trim()}),la=t=>t==null||isNaN(t)?"—":new Intl.NumberFormat("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1}).format(t)+"%",K=t=>t==null||isNaN(t)?"—":new Intl.NumberFormat("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1}).format(t),p=t=>{if(t==null||t==="")return 0;const s=typeof t=="string"?parseFloat(t):t;return Number.isFinite(s)?s:0},C=(t,s)=>{const e=t?.indicators||[],l=p(t?.minThreshold??90),d=p(t?.superThreshold??l+20),g=p(t?.cap??150),_=p(t?.eligibilityMinimum??100)||100,E=e.map(f=>{const w=Math.max(0,p(s?.[f.id]??f.default??0)),na=Math.min(g,w),Ea=p(f.weight)*na/100;let O="Crítico",G="status-pill--alert";return w>=d?(O="Parabéns",G="status-pill--great"):w>=l?(O="Elegível",G="status-pill--ok"):w>=Math.max(0,l-10)&&(O="Ajustar",G="status-pill--warn"),{...f,pct:w,capped:na,points:Ea,statusText:O,statusClass:G}}),L=E.reduce((f,w)=>f+w.points,0),W=E.every(f=>f.pct>=l),X=E.every(f=>f.pct>=d),Ma=W&&L>=_;let U="Não elegível",j="status-tag--alert";X&&L>=_?(U="Parabéns",j="status-tag--great"):Ma?(U="Elegível",j="status-tag--ok"):W&&(U="Ajustar foco",j="status-tag--warn");const Y=Math.max(0,_-L),Aa=Math.max(0,Math.min(1,L/_)),Sa=Y>0?`${D(Math.round(Y))} pts para elegibilidade`:X?"Acima do stretch":"Meta mínima atingida";return{rows:E,totalPoints:L,finalStatus:U,finalClass:j,progressPct:Aa,progressLabel:Sa,shortfall:Y,hasAllMin:W,hasAllStretch:X}},z=t=>{if(!t?.team)return{};if(!Q.value[t.id]){const s={};(t.team.indicators||[]).forEach(e=>{s[e.id]=p(e.default??100)}),Q.value[t.id]=s,I.value[t.id]=t.team.defaultPreset||t.team.presets?.[0]?.id||"custom"}return Q.value[t.id]||{}},$=(t,s)=>{if(!t||!s)return{};const e=`${t.id}:${s.id}`;H.value[t.id]||(H.value[t.id]={});const l=H.value[t.id];if(!l)return{};if(!l[s.id]){const d={};(s.indicators||[]).forEach(g=>{d[g.id]=p(g.default??100)}),l[s.id]=d,F.value[e]=s.defaultPreset||s.presets?.[0]?.id||"custom"}return l[s.id]||{}},ia=(t,s)=>!t||!Array.isArray(s)?null:s.find(e=>Object.entries(e.values||{}).every(([d,g])=>Math.round(p(g))===Math.round(p(t[d]))))?.id||null,ka=(t,s,e)=>{const l=z(t);l[s]=e,c.value=C(t.team,l);const d=ia(l,t.team.presets||[]);I.value[t.id]=d||"custom"},Pa=(t,s)=>{const e=t.team.presets?.find(d=>d.id===s);if(!e)return;const l=z(t);Object.entries(e.values||{}).forEach(([d,g])=>{l[d]=p(g)}),I.value[t.id]=s,c.value=C(t.team,l)},qa=(t,s,e,l)=>{const d=$(t,s);d[e]=l,r.value=C(s,d);const g=`${t.id}:${s.id}`,_=ia(d,s.presets||[]);F.value[g]=_||"custom"},Ca=(t,s,e)=>{const l=s.presets?.find(_=>_.id===e);if(!l)return;const d=$(t,s);Object.entries(l.values||{}).forEach(([_,E])=>{d[_]=p(E)});const g=`${t.id}:${s.id}`;F.value[g]=e,r.value=C(s,d)},wa=(t,s)=>{N.value=s;const e=t.individual?.profiles?.find(l=>l.id===s);if(e){const l=$(t,e);r.value=C(e,l)}};return Ta(()=>{va()}),oa(q,()=>{ha()}),oa([ra],()=>{},{deep:!0}),(t,s)=>(i(),n("div",Ia,[a("div",Fa,[A.value&&!u.value?(i(),n("div",za,[...s[1]||(s[1]=[Va('<section class="card card--campanhas" data-v-ac10c028><header class="card__header camp-header" data-v-ac10c028><div class="skeleton skeleton--title" style="height:24px;width:150px;margin-bottom:8px;border-radius:6px;" data-v-ac10c028></div><div class="skeleton skeleton--subtitle" style="height:16px;width:300px;border-radius:6px;" data-v-ac10c028></div><div class="skeleton skeleton--select" style="height:40px;width:200px;border-radius:8px;" data-v-ac10c028></div></header><div class="camp-hero" data-v-ac10c028><div class="skeleton skeleton--hero" style="height:120px;width:100%;border-radius:12px;margin-bottom:24px;" data-v-ac10c028></div></div><div class="camp-kpi-grid" data-v-ac10c028><div class="skeleton skeleton--kpi" style="height:100px;border-radius:12px;" data-v-ac10c028></div><div class="skeleton skeleton--kpi" style="height:100px;border-radius:12px;" data-v-ac10c028></div><div class="skeleton skeleton--kpi" style="height:100px;border-radius:12px;" data-v-ac10c028></div></div></section>',1)])])):(i(),n(v,{key:1},[T.value?(i(),ua(Da,{key:0,message:T.value},null,8,["message"])):S.value.length===0?(i(),ua(Ba,{key:1,title:"Nenhuma campanha disponível",message:"Nenhuma campanha disponível no momento."})):(i(),n("div",Ua,[a("section",ja,[a("header",Oa,[s[3]||(s[3]=a("div",{class:"title-subtitle"},[a("h3",null,"Campanhas"),a("p",{class:"muted"},"Acompanhe o desempenho das campanhas e simule cenários.")],-1)),a("div",Ga,[s[2]||(s[2]=a("label",{for:"campanha-sprint",class:"muted"},"CAMPANHA",-1)),Na(a("select",{id:"campanha-sprint","onUpdate:modelValue":s[0]||(s[0]=e=>q.value=e),class:"input input--sm"},[(i(!0),n(v,null,y(S.value,e=>(i(),n("option",{key:e.id,value:e.id},o(e.label),9,Ja))),128))],512),[[$a,q.value]])])]),u.value?(i(),n("div",Qa,[a("div",Ha,[a("p",Ka,o(fa.value),1),a("div",Wa,[Z(aa,{name:"calendar",size:16}),a("span",Xa,o(_a.value),1)]),a("p",Ya,o(ya.value),1)]),a("div",Za,[(i(!0),n(v,null,y(ea.value,(e,l)=>(i(),n("div",{key:l,class:"camp-hero__stat"},[a("span",null,o(e.label),1),a("strong",null,o(e.value),1),e.sub?(i(),n("small",ae,o(e.sub),1)):h("",!0)]))),128))])])):h("",!0),u.value&&J.value.length>0?(i(),n("div",ee,[(i(!0),n(v,null,y(J.value,(e,l)=>(i(),n("div",{key:l,class:"camp-kpi"},[a("span",null,o(e.label),1),e.total!=null?(i(),n(v,{key:0},[a("strong",null,o(k(D)(e.value))+" / "+o(k(D)(e.total)),1),a("small",null,"de "+o(k(D)(e.total))+" monitoradas",1)],64)):e.unit==="pts"?(i(),n(v,{key:1},[a("strong",null,o(k(x)(e.value,{withUnit:!0})),1),e.complement?(i(),n("small",se,o(e.complement),1)):h("",!0)],64)):e.text?(i(),n("strong",te,o(e.text),1)):(i(),n(v,{key:3},[a("strong",null,o(K(e.value)),1),e.complement?(i(),n("small",le,o(e.complement),1)):h("",!0)],64))]))),128))])):h("",!0),u.value&&(V.value||B.value)?(i(),n("div",ie,[a("div",ne,[V.value?(i(),n("div",oe,[a("div",ue,[a("div",de,[s[4]||(s[4]=a("h5",null,"Simulador de equipe",-1)),a("button",re,[Z(aa,{name:"info-circle",size:18})])]),s[5]||(s[5]=a("p",null,"Defina o atingimento de cada indicador para estimar a pontuação e a elegibilidade da equipe.",-1)),s[6]||(s[6]=a("p",{class:"sim-hint"},"Elegível com todos os indicadores ≥ 90% e pelo menos 100 pontos.",-1))]),a("div",ce,[(i(!0),n(v,null,y(V.value.presets||[],e=>(i(),n("button",{key:e.id,type:"button",class:M(["sim-chip",{"is-active":pa.value===e.id}]),onClick:l=>Pa(u.value,e.id)},o(e.label),11,me))),128))]),a("table",ve,[s[7]||(s[7]=a("thead",null,[a("tr",null,[a("th",null,"Indicador"),a("th",null,"Peso"),a("th",null,"Atingimento"),a("th",null,"Pontos"),a("th",null,"Resultado")])],-1)),a("tbody",null,[(i(!0),n(v,null,y(V.value.indicators||[],e=>(i(),n("tr",{key:e.id},[a("td",he,[a("strong",null,o(e.label),1),e.hint?(i(),n("div",pe,o(e.hint),1)):h("",!0)]),a("td",ge,o(K(e.weight))+"%",1),a("td",null,[a("div",be,[a("input",{type:"range",min:0,max:160,value:sa.value[e.id]||e.default||100,onInput:l=>ka(u.value,e.id,Number(l.target.value))},null,40,_e),a("span",fe,o(la(sa.value[e.id]||e.default||100)),1)])]),a("td",ye,o(c.value?k(x)(c.value.rows.find(l=>l.id===e.id)?.points||0,{withUnit:!0}):"—"),1),a("td",null,[c.value?(i(),n("span",{key:0,class:M(["status-pill",c.value.rows.find(l=>l.id===e.id)?.statusClass||"status-pill--ok"])},o(c.value.rows.find(l=>l.id===e.id)?.statusText||"Elegível"),3)):(i(),n("span",ke,"Elegível"))])]))),128))])]),a("div",Pe,[a("div",qe,[s[8]||(s[8]=a("span",null,"Pontuação total",-1)),a("strong",null,o(c.value?k(x)(c.value.totalPoints,{withUnit:!0}):"—"),1)]),a("div",Ce,[a("div",we,[a("div",{class:"sim-progress__fill",style:da({"--target":c.value?`${Math.round(c.value.progressPct*100)}%`:"0%"})},null,4)]),a("small",null,o(c.value?c.value.progressLabel:"0% do mínimo necessário"),1)]),a("div",Me,[c.value?(i(),n("span",{key:0,class:M(["status-tag",c.value.finalClass])},o(c.value.finalStatus),3)):h("",!0)])])])):h("",!0),B.value?(i(),n("div",Ae,[a("div",Se,[a("div",Ee,[s[9]||(s[9]=a("h5",null,"Simulador individual",-1)),a("button",xe,[Z(aa,{name:"info-circle",size:18})])]),s[10]||(s[10]=a("p",null,"Simule o desempenho de um gerente considerando os mesmos pesos da campanha.",-1)),s[11]||(s[11]=a("p",{class:"sim-hint"},"Elegível com todos os indicadores ≥ 90% e pelo menos 100 pontos.",-1))]),a("div",Te,[(i(!0),n(v,null,y(B.value.profiles||[],e=>(i(),n("button",{key:e.id,type:"button",class:M(["seg-btn",{"is-active":N.value===e.id}]),onClick:l=>wa(u.value,e.id)},o(e.label),11,Ve))),128))]),a("div",Ne,[(i(!0),n(v,null,y(b.value?.presets||[],e=>(i(),n("button",{key:e.id,type:"button",class:M(["sim-chip",{"is-active":ga.value===e.id}]),onClick:l=>Ca(u.value,b.value,e.id)},o(e.label),11,$e))),128))]),b.value?(i(),n("p",Le,o(b.value.description||""),1)):h("",!0),a("table",De,[s[12]||(s[12]=a("thead",null,[a("tr",null,[a("th",null,"Indicador"),a("th",null,"Peso"),a("th",null,"Atingimento"),a("th",null,"Pontos"),a("th",null,"Resultado")])],-1)),a("tbody",null,[(i(!0),n(v,null,y(b.value?.indicators||[],e=>(i(),n("tr",{key:e.id},[a("td",Re,[a("strong",null,o(e.label),1)]),a("td",Be,o(K(e.weight))+"%",1),a("td",null,[a("div",Ie,[a("input",{type:"range",min:0,max:160,value:ta.value[e.id]||e.default||100,onInput:l=>qa(u.value,b.value,e.id,Number(l.target.value))},null,40,Fe),a("span",ze,o(la(ta.value[e.id]||e.default||100)),1)])]),a("td",Ue,o(r.value?k(x)(r.value.rows.find(l=>l.id===e.id)?.points||0,{withUnit:!0}):"—"),1),a("td",null,[r.value?(i(),n("span",{key:0,class:M(["status-pill",r.value.rows.find(l=>l.id===e.id)?.statusClass||"status-pill--ok"])},o(r.value.rows.find(l=>l.id===e.id)?.statusText||"Elegível"),3)):(i(),n("span",je,"Elegível"))])]))),128))])]),a("div",Oe,[a("div",Ge,[s[13]||(s[13]=a("span",null,"Pontuação total",-1)),a("strong",null,o(r.value?k(x)(r.value.totalPoints,{withUnit:!0}):"—"),1)]),a("div",Je,[a("div",Qe,[a("div",{class:"sim-progress__fill",style:da({"--target":r.value?`${Math.round(r.value.progressPct*100)}%`:"0%"})},null,4)]),a("small",null,o(r.value?r.value.progressLabel:"0% do mínimo necessário"),1)]),a("div",He,[r.value?(i(),n("span",{key:0,class:M(["status-tag",r.value.finalClass])},o(r.value.finalStatus),3)):h("",!0)])])])):h("",!0)])])):h("",!0),u.value&&R.value.length>0?(i(),n("div",Ke,[s[20]||(s[20]=a("div",{class:"card__header"},[a("div",{class:"title-subtitle"},[a("h3",null,"Ranking da Campanha"),a("p",{id:"camp-ranking-desc",class:"muted"}," Acompanhe a performance das Unidades e a elegibilidade frente aos critérios mínimos. ")])],-1)),a("div",We,[a("table",Xe,[s[19]||(s[19]=a("thead",null,[a("tr",null,[a("th",{class:"pos-col"},"#"),a("th",{class:"regional-col"},"Unidade"),a("th",null,"Linhas governamentais"),a("th",null,"Cash (TPV)"),a("th",null,"Abertura de contas"),a("th",null,"Pontuação final"),a("th",null,"Atividade comercial"),a("th",null,"Elegibilidade")])],-1)),a("tbody",null,[(i(!0),n(v,null,y(R.value,(e,l)=>(i(),n("tr",{key:l},[a("td",Ye,o(e.rank||l+1),1),a("td",Ze,o(e.unidade||e.label||"—"),1),s[14]||(s[14]=a("td",null,[a("div",{class:"indicator-bar"},[a("div",{class:"indicator-bar__track"},[a("span",{style:{"--target":"0%"}})]),a("div",{class:"indicator-bar__value"},"—")])],-1)),s[15]||(s[15]=a("td",null,[a("div",{class:"indicator-bar"},[a("div",{class:"indicator-bar__track"},[a("span",{style:{"--target":"0%"}})]),a("div",{class:"indicator-bar__value"},"—")])],-1)),s[16]||(s[16]=a("td",null,[a("div",{class:"indicator-bar"},[a("div",{class:"indicator-bar__track"},[a("span",{style:{"--target":"0%"}})]),a("div",{class:"indicator-bar__value"},"—")])],-1)),a("td",as,o(k(x)(e.totalPoints||0,{withUnit:!0})),1),s[17]||(s[17]=a("td",null,"—",-1)),s[18]||(s[18]=a("td",null,[a("span",{class:"elegibility-badge elegibility-badge--ok"},"Elegível")],-1))]))),128))])])])])):h("",!0)])]))],64))])]))}}),cs=Ra(es,[["__scopeId","data-v-ac10c028"]]);export{cs as default};
