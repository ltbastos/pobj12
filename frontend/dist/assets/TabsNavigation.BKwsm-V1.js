import{u as R,a as S}from"./vue-router.BEbJbLaE.js";import{_ as C,I as N}from"./index.Dr26WDVJ.js";import{b as D,r as h,w as E,y as B,A as H,g as M,m as V,j as U,L as F,q as n,G as P,H as T,N as A,o as k,n as q,t as w,C as x,E as L,u as _,e as O,F as W,D as j,k as G}from"./vendor.Mb-DmQZ9.js";import{u as J}from"./usePeriodManager.7GB6tYuu.js";import"./pdf-vendor.BFzd3waL.js";import"./icons-vendor.vP8HAgRq.js";import"./calendarioService.B6FHbTv3.js";import"./useCalendarioCache.BpeOTXeR.js";const K={class:"row",style:{"margin-bottom":"8px"}},Q={class:"actions"},X=D({__name:"DatePopover",props:{open:{type:Boolean},anchor:{},modelValue:{}},emits:["close","update:modelValue"],setup(g,{emit:f}){const s=g,i=f,r=h(null),u=h({top:0,left:0}),e=h(s.modelValue.start),t=h(s.modelValue.end),a=()=>{if(!s.anchor||!r.value)return;const l=s.anchor.getBoundingClientRect(),o=r.value.offsetWidth||340,c=r.value.offsetHeight||170;let y=l.bottom+8,b=l.right-o;const p=12,$=window.innerWidth,I=window.innerHeight;y+c+p>I&&(y=Math.max(p,l.top-c-8)),b<p&&(b=p),b+o+p>$&&(b=Math.max(p,$-o-p)),u.value={top:y,left:b}};E(()=>s.open,async l=>{if(!l){v();return}e.value=s.modelValue.start,t.value=s.modelValue.end,await q(),a(),setTimeout(()=>{document.addEventListener("click",m,{capture:!1,once:!0}),document.addEventListener("keydown",d,{once:!0})},100)}),E(()=>s.modelValue,l=>{s.open&&(e.value=l.start,t.value=l.end)},{deep:!0});const m=l=>{if(!r.value||!s.open)return;const o=l.target,c=o instanceof HTMLInputElement;r.value.contains(o)||s.anchor?.contains(o)||c&&o.type==="date"||(v(),i("close"))},d=l=>{l.key==="Escape"&&s.open&&(v(),i("close"))},v=()=>{document.removeEventListener("click",m),document.removeEventListener("keydown",d)};B(()=>{window.addEventListener("resize",a)}),H(()=>{v(),window.removeEventListener("resize",a)});const z=()=>{if(!e.value||!t.value){alert("Período inválido.");return}if(new Date(e.value)>new Date(t.value)){alert("Data inicial não pode ser maior que a final.");return}i("update:modelValue",{start:e.value,end:t.value}),v(),i("close")};return(l,o)=>(k(),M(A,{to:"body"},[g.open?(k(),V("div",{key:0,ref_key:"popover",ref:r,class:"date-popover",style:F({top:`${u.value.top}px`,left:`${u.value.left}px`})},[o[3]||(o[3]=n("h4",null,"Alterar data",-1)),n("div",K,[P(n("input",{type:"date","onUpdate:modelValue":o[0]||(o[0]=c=>e.value=c),"aria-label":"Data inicial"},null,512),[[T,e.value]]),P(n("input",{type:"date","onUpdate:modelValue":o[1]||(o[1]=c=>t.value=c),"aria-label":"Data final"},null,512),[[T,t.value]])]),n("div",Q,[n("button",{class:"btn-sec",onClick:o[2]||(o[2]=c=>i("close"))},"Cancelar"),n("button",{class:"btn-pri",onClick:z},"Salvar")])],4)):U("",!0)]))}}),Y=C(X,[["__scopeId","data-v-d23c5a19"]]),Z={id:"lbl-atualizacao"},ee={class:"period-inline"},ae={class:"txt"},te=["disabled"],oe=D({__name:"PeriodoHeader",setup(g){const{period:f,startFormatted:s,endFormatted:i,isSimuladoresPage:r,updatePeriod:u}=J(),e=h(!1),t=h(null),a=m=>{if(e.value){e.value=!1;return}t.value=m.currentTarget,e.value=!0};return(m,d)=>(k(),V("div",Z,[n("div",ee,[n("span",ae,[d[1]||(d[1]=x(" De ",-1)),n("strong",null,L(_(s)),1),d[2]||(d[2]=x(" até ",-1)),n("strong",null,L(_(i)),1)]),n("button",{ref_key:"anchor",ref:t,class:"link-action",disabled:_(r),onClick:a},[w(N,{name:"chevron-down",size:16}),d[3]||(d[3]=x(" Alterar data ",-1))],8,te)]),w(Y,{open:e.value,anchor:t.value,modelValue:_(f),"onUpdate:modelValue":_(u),onClose:d[0]||(d[0]=v=>e.value=!1)},null,8,["open","anchor","modelValue","onUpdate:modelValue"])]))}}),ne=C(oe,[["__scopeId","data-v-d8d58a0e"]]),se={class:"tabs","aria-label":"Navegação principal"},le=["data-view","aria-label","onClick"],ie={class:"tab-icon"},re={class:"tab-label"},de={class:"tabs__aside"},ce={class:"muted"},ue=D({__name:"TabsNavigation",setup(g){const f=S(),s=R(),i=[{id:"cards",label:"Resumo",icon:"dashboard",ariaLabel:"Resumo",path:"/"},{id:"table",label:"Detalhamento",icon:"list-tree",ariaLabel:"Detalhamento",path:"/detalhes"},{id:"ranking",label:"Rankings",icon:"trophy",ariaLabel:"Rankings",path:"/ranking"},{id:"exec",label:"Visão executiva",icon:"chart-line",ariaLabel:"Visão executiva",path:"/exec"},{id:"simuladores",label:"Simuladores",icon:"calculator",ariaLabel:"Simuladores",path:"/simuladores"},{id:"campanhas",label:"Campanhas",icon:"speakerphone",ariaLabel:"Campanhas",path:"/campanhas"}],r=O(()=>{const e=s.path;return i.find(a=>a.path===e)?.id||"cards"}),u=e=>{const t=i.find(a=>a.id===e);t&&t.path&&f.push(t.path)};return(e,t)=>(k(),V("section",se,[(k(),V(W,null,j(i,a=>n("button",{key:a.id,class:G(["tab",{"is-active":r.value===a.id}]),"data-view":a.id,"aria-label":a.ariaLabel,onClick:m=>u(a.id)},[n("span",ie,[w(N,{name:a.icon,size:16,color:r.value===a.id?"white":void 0},null,8,["name","color"])]),n("span",re,L(a.label),1)],10,le)),64)),n("div",de,[n("small",ce,[w(ne)])])]))}}),ge=C(ue,[["__scopeId","data-v-601ec347"]]);export{ge as default};
