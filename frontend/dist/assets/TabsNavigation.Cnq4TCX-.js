import{d as L,b as h,p as E,l as N,B as R,h as S,e as V,g as H,C as M,q as n,D as P,E as T,T as U,o as k,F,_ as D,k as q,s as w,x as y,y as C,t as _,I as z,c as A,u as O,G as W,H as G,J,n as j}from"./index.CZk3X8Uv.js";const K={class:"row",style:{"margin-bottom":"8px"}},Q={class:"actions"},X=L({__name:"DatePopover",props:{open:{type:Boolean},anchor:{},modelValue:{}},emits:["close","update:modelValue"],setup(g,{emit:b}){const s=g,i=b,r=h(null),u=h({top:0,left:0}),e=h(s.modelValue.start),t=h(s.modelValue.end),a=()=>{if(!s.anchor||!r.value)return;const l=s.anchor.getBoundingClientRect(),o=r.value.offsetWidth||340,c=r.value.offsetHeight||170;let x=l.bottom+8,f=l.right-o;const p=12,$=window.innerWidth,I=window.innerHeight;x+c+p>I&&(x=Math.max(p,l.top-c-8)),f<p&&(f=p),f+o+p>$&&(f=Math.max(p,$-o-p)),u.value={top:x,left:f}};E(()=>s.open,async l=>{if(!l){m();return}e.value=s.modelValue.start,t.value=s.modelValue.end,await F(),a(),setTimeout(()=>{document.addEventListener("click",v,{capture:!1,once:!0}),document.addEventListener("keydown",d,{once:!0})},100)}),E(()=>s.modelValue,l=>{s.open&&(e.value=l.start,t.value=l.end)},{deep:!0});const v=l=>{if(!r.value||!s.open)return;const o=l.target,c=o instanceof HTMLInputElement;r.value.contains(o)||s.anchor?.contains(o)||c&&o.type==="date"||(m(),i("close"))},d=l=>{l.key==="Escape"&&s.open&&(m(),i("close"))},m=()=>{document.removeEventListener("click",v),document.removeEventListener("keydown",d)};N(()=>{window.addEventListener("resize",a)}),R(()=>{m(),window.removeEventListener("resize",a)});const B=()=>{if(!e.value||!t.value){alert("Período inválido.");return}if(new Date(e.value)>new Date(t.value)){alert("Data inicial não pode ser maior que a final.");return}i("update:modelValue",{start:e.value,end:t.value}),m(),i("close")};return(l,o)=>(k(),S(U,{to:"body"},[g.open?(k(),V("div",{key:0,ref_key:"popover",ref:r,class:"date-popover",style:M({top:`${u.value.top}px`,left:`${u.value.left}px`})},[o[3]||(o[3]=n("h4",null,"Alterar data",-1)),n("div",K,[P(n("input",{type:"date","onUpdate:modelValue":o[0]||(o[0]=c=>e.value=c),"aria-label":"Data inicial"},null,512),[[T,e.value]]),P(n("input",{type:"date","onUpdate:modelValue":o[1]||(o[1]=c=>t.value=c),"aria-label":"Data final"},null,512),[[T,t.value]])]),n("div",Q,[n("button",{class:"btn-sec",onClick:o[2]||(o[2]=c=>i("close"))},"Cancelar"),n("button",{class:"btn-pri",onClick:B},"Salvar")])],4)):H("",!0)]))}}),Y=D(X,[["__scopeId","data-v-17c48dec"]]),Z={id:"lbl-atualizacao"},ee={class:"period-inline"},ae={class:"txt"},te=["disabled"],oe=L({__name:"PeriodoHeader",setup(g){const{period:b,startFormatted:s,endFormatted:i,isSimuladoresPage:r,updatePeriod:u}=q(),e=h(!1),t=h(null),a=v=>{if(e.value){e.value=!1;return}t.value=v.currentTarget,e.value=!0};return(v,d)=>(k(),V("div",Z,[n("div",ee,[n("span",ae,[d[1]||(d[1]=y(" De ",-1)),n("strong",null,C(_(s)),1),d[2]||(d[2]=y(" até ",-1)),n("strong",null,C(_(i)),1)]),n("button",{ref_key:"anchor",ref:t,class:"link-action",disabled:_(r),onClick:a},[w(z,{name:"chevron-down",size:16}),d[3]||(d[3]=y(" Alterar data ",-1))],8,te)]),w(Y,{open:e.value,anchor:t.value,modelValue:_(b),"onUpdate:modelValue":_(u),onClose:d[0]||(d[0]=m=>e.value=!1)},null,8,["open","anchor","modelValue","onUpdate:modelValue"])]))}}),ne=D(oe,[["__scopeId","data-v-e602e37d"]]),se={class:"tabs","aria-label":"Navegação principal"},le=["data-view","aria-label","onClick"],ie={class:"tab-icon"},re={class:"tab-label"},de={class:"tabs__aside"},ce={class:"muted"},ue=L({__name:"TabsNavigation",setup(g){const b=J(),s=O(),i=[{id:"cards",label:"Resumo",icon:"dashboard",ariaLabel:"Resumo",path:"/"},{id:"table",label:"Detalhamento",icon:"list-tree",ariaLabel:"Detalhamento",path:"/detalhes"},{id:"ranking",label:"Rankings",icon:"trophy",ariaLabel:"Rankings",path:"/ranking"},{id:"exec",label:"Visão executiva",icon:"chart-line",ariaLabel:"Visão executiva",path:"/exec"},{id:"simuladores",label:"Simuladores",icon:"calculator",ariaLabel:"Simuladores",path:"/simuladores"},{id:"campanhas",label:"Campanhas",icon:"speakerphone",ariaLabel:"Campanhas",path:"/campanhas"}],r=A(()=>{const e=s.path;return i.find(a=>a.path===e)?.id||"cards"}),u=e=>{const t=i.find(a=>a.id===e);t&&t.path&&b.push(t.path)};return(e,t)=>(k(),V("section",se,[(k(),V(W,null,G(i,a=>n("button",{key:a.id,class:j(["tab",{"is-active":r.value===a.id}]),"data-view":a.id,"aria-label":a.ariaLabel,onClick:v=>u(a.id)},[n("span",ie,[w(z,{name:a.icon,size:16,color:r.value===a.id?"white":void 0},null,8,["name","color"])]),n("span",re,C(a.label),1)],10,le)),64)),n("div",de,[n("small",ce,[w(ne)])])]))}}),ve=D(ue,[["__scopeId","data-v-601ec347"]]);export{ve as default};
