import{u as z,a as H}from"./vue-router.BQVFLPdy.js";import{_ as C,I as B}from"./index.oIu47dWK.js";import{b as D,r as m,w as P,y as F,A as M,g as U,m as V,j as A,L as q,q as o,G as T,H as N,N as G,o as _,n as O,e as g,t as w,C as x,E as L,u as R,F as W,D as j,k as J}from"./vendor.iNPlSTaR.js";import{u as K,f as S}from"./useGlobalFilters.DGbadgZS.js";import"./pdf-vendor.jXUlHPMi.js";import"./icons-vendor.pg7b-e9c.js";const Q={class:"row",style:{"margin-bottom":"8px"}},X={class:"actions"},Y=D({__name:"DatePopover",props:{open:{type:Boolean},anchor:{},modelValue:{}},emits:["close","update:modelValue"],setup(k,{emit:v}){const n=k,i=v,d=m(null),u=m({top:0,left:0}),s=m(n.modelValue.start),a=m(n.modelValue.end),e=()=>{if(!n.anchor||!d.value)return;const r=n.anchor.getBoundingClientRect(),t=d.value.offsetWidth||340,c=d.value.offsetHeight||170;let y=r.bottom+8,b=r.right-t;const p=12,E=window.innerWidth,I=window.innerHeight;y+c+p>I&&(y=Math.max(p,r.top-c-8)),b<p&&(b=p),b+t+p>E&&(b=Math.max(p,E-t-p)),u.value={top:y,left:b}};P(()=>n.open,async r=>{if(!r){l();return}s.value=n.modelValue.start,a.value=n.modelValue.end,await O(),e(),setTimeout(()=>{document.addEventListener("click",f,{capture:!1,once:!0}),document.addEventListener("keydown",h,{once:!0})},100)}),P(()=>n.modelValue,r=>{n.open&&(s.value=r.start,a.value=r.end)},{deep:!0});const f=r=>{if(!d.value||!n.open)return;const t=r.target,c=t instanceof HTMLInputElement;d.value.contains(t)||n.anchor?.contains(t)||c&&t.type==="date"||(l(),i("close"))},h=r=>{r.key==="Escape"&&n.open&&(l(),i("close"))},l=()=>{document.removeEventListener("click",f),document.removeEventListener("keydown",h)};F(()=>{window.addEventListener("resize",e)}),M(()=>{l(),window.removeEventListener("resize",e)});const $=()=>{if(!s.value||!a.value){alert("Período inválido.");return}if(new Date(s.value)>new Date(a.value)){alert("Data inicial não pode ser maior que a final.");return}i("update:modelValue",{start:s.value,end:a.value}),l(),i("close")};return(r,t)=>(_(),U(G,{to:"body"},[k.open?(_(),V("div",{key:0,ref_key:"popover",ref:d,class:"date-popover",style:q({top:`${u.value.top}px`,left:`${u.value.left}px`})},[t[3]||(t[3]=o("h4",null,"Alterar data",-1)),o("div",Q,[T(o("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=c=>s.value=c),"aria-label":"Data inicial"},null,512),[[N,s.value]]),T(o("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=c=>a.value=c),"aria-label":"Data final"},null,512),[[N,a.value]])]),o("div",X,[o("button",{class:"btn-sec",onClick:t[2]||(t[2]=c=>i("close"))},"Cancelar"),o("button",{class:"btn-pri",onClick:$},"Salvar")])],4)):A("",!0)]))}}),Z=C(Y,[["__scopeId","data-v-d23c5a19"]]),ee={id:"lbl-atualizacao"},ae={class:"period-inline"},te={class:"txt"},oe=["disabled"],ne=D({__name:"PeriodoHeader",setup(k){const v=z(),n=g(()=>v.name==="Simuladores"),{period:i,updatePeriod:d}=K(),u=g(()=>S(i.value.start)),s=g(()=>S(i.value.end)),a=m(!1),e=m(null),f=h=>{if(a.value){a.value=!1;return}e.value=h.currentTarget,a.value=!0};return(h,l)=>(_(),V("div",ee,[o("div",ae,[o("span",te,[l[1]||(l[1]=x(" De ",-1)),o("strong",null,L(u.value),1),l[2]||(l[2]=x(" até ",-1)),o("strong",null,L(s.value),1)]),o("button",{ref_key:"anchor",ref:e,class:"link-action",disabled:n.value,onClick:f},[w(B,{name:"chevron-down",size:16}),l[3]||(l[3]=x(" Alterar data ",-1))],8,oe)]),w(Z,{open:a.value,anchor:e.value,modelValue:R(i),"onUpdate:modelValue":R(d),onClose:l[0]||(l[0]=$=>a.value=!1)},null,8,["open","anchor","modelValue","onUpdate:modelValue"])]))}}),se=C(ne,[["__scopeId","data-v-4855ca0d"]]),le={class:"tabs","aria-label":"Navegação principal"},ie=["data-view","aria-label","onClick"],re={class:"tab-icon"},de={class:"tab-label"},ce={class:"tabs__aside"},ue={class:"muted"},pe=D({__name:"TabsNavigation",setup(k){const v=H(),n=z(),i=[{id:"cards",label:"Resumo",icon:"dashboard",ariaLabel:"Resumo",path:"/"},{id:"table",label:"Detalhamento",icon:"list-tree",ariaLabel:"Detalhamento",path:"/detalhes"},{id:"ranking",label:"Rankings",icon:"trophy",ariaLabel:"Rankings",path:"/ranking"},{id:"exec",label:"Visão executiva",icon:"chart-line",ariaLabel:"Visão executiva",path:"/exec"},{id:"simuladores",label:"Simuladores",icon:"calculator",ariaLabel:"Simuladores",path:"/simuladores"},{id:"campanhas",label:"Campanhas",icon:"speakerphone",ariaLabel:"Campanhas",path:"/campanhas"}],d=g(()=>{const s=n.path;return i.find(e=>e.path===s)?.id||"cards"}),u=s=>{const a=i.find(e=>e.id===s);a&&a.path&&v.push(a.path)};return(s,a)=>(_(),V("section",le,[(_(),V(W,null,j(i,e=>o("button",{key:e.id,class:J(["tab",{"is-active":d.value===e.id}]),"data-view":e.id,"aria-label":e.ariaLabel,onClick:f=>u(e.id)},[o("span",re,[w(B,{name:e.icon,size:16,color:d.value===e.id?"white":void 0},null,8,["name","color"])]),o("span",de,L(e.label),1)],10,ie)),64)),o("div",ce,[o("small",ue,[w(se)])])]))}}),ke=C(pe,[["__scopeId","data-v-601ec347"]]);export{ke as default};
